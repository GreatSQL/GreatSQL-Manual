# GreatSQL高可用
---

GreatSQL在高可靠方面的主要提升是针对MGR做了大量的改进和提升工作，进一步提升MGR的高可靠等级。
1. 地理标签，提升多机房架构数据可靠性。更详细内容参考：[地理标签](./5-2-ha-mgr-zoneid.md)。
1. 读写节点动态VIP，高可用切换更便捷；支持在只读节点绑定动态VIP。更详细内容参考：[内置动态VIP](./5-2-ha-mgr-vip.md)。
1. 启用读写节点绑定VIP后，当主节点切换时，支持主动关闭当前活跃连接，缩短应用端不可用时长。更详细内容参考：[MGR切主后断开应用连接](./5-2-ha-mgr-kill-conn-after-switch.md)。
1. 仲裁节点，用更低的服务器成本实现更高可用。更详细内容参考：[仲裁节点](./5-2-ha-mgr-arbitrator.md)。
1. 快速单主模式，在单主模式下更快，性能更高。更详细内容参考：[快速单主模式](./5-2-ha-mgr-fast-mode.md)。
1. 智能选主，高可用切换选主机制更合理。更详细内容参考：[智能选主模式](./5-2-ha-mgr-election-mode.md)。
1. 全新流控算法，使得事务更平稳，避免剧烈抖动。更详细内容参考：[全新流控算法](./5-2-ha-mgr-new-fc.md)。
1. 新增MGR网络开销阈值，可记录超过阈值的事件，便于进一步分析。更详细内容参考：[MGR网络开销阈值](./5-2-ha-mgr-request-time.md)。
1. 优化了节点加入、退出时可能导致性能剧烈抖动的问题。
1. 解决磁盘空间爆满时导致MGR集群阻塞的问题。
1. 解决了长事务造成无法选主的问题。
1. 优化事务认证队列清理算法，规避每60s抖动问题。
1. 修复了recover过程中长时间等待的问题。

其他针对MGR的改进提升方面更详细的内容请参考：[MGR其他优化提升](./5-2-ha-mgr-improved.md)。

在跨机房容灾场景，同时开启多源复制和主主复制时，可能出现数据回路问题。新增 replicate_server_mode 选项用于控制只应用多源复制管道内临近主节点上产生的binlog，不会应用其他的非临近节点产生的binlog，避免出现数据回路问题。多通道主主复制能减少机房容灾演练和切换时的主从配置变更，该特性由中移智家DBA团队（徐良）贡献代码。更多详细内容参考：[GreatSQL高可用特性之主主复制防止回路](5-2-ha-repl-server-mode.md)。


**问题反馈**
---
- [问题反馈 gitee](https://gitee.com/GreatSQL/GreatSQL-Manual/issues)


**联系我们**
---

扫码关注微信公众号

![greatsql-wx](../greatsql-wx.jpg)

