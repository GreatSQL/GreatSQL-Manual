# Schema设计规范参考
---

本文介绍在使用和基于GreatSQL数据库进行业务系统应用开发时建议遵循的Schema开发设计规范。

## 1. 命名规范

对数据库对象采用统一的命名规则和标准，使得应用代码的可读性更强，便于他人阅读、理解和继承。

下面是数据库对象命名规范的参考：
- 统一使用大小写风格，即要么都大写，要么都小写，不要大小写混合。
- 用简洁又合适的英文单词表示业务意义，单词间用下划线 "\_" 分隔开。
- 对象名不要用下划线 "\_" 开头和结尾。
- 尽量不用中文拼音命名。
- 尽量不用纯数字命名。
- 日志业务类型表名加上 "log\_" 前缀。
- 数据归档类型表名加上 "arch\_" 前缀。
- 备份用途类型表名加上 "bak\_" 前缀。
- 临时用途类型表名加上 "tmp\_" 前缀。
- 以日期时间作为分库分表的对象名，可以加上日期时间后缀，示例：`trans_log_2023`。
- 要避免使用保留字和关键字，详情参考：[保留字、关键字](../2-about-greatsql/7-greatsql-keywords.md)。
- 尽可能使用 `id` 作为表的主键列名，如果主键索引包括多个列，每个列也都尽量带上 `_id` 关键字，例如：(city_id, user_id)。
- 普通索引名带上前缀 "idx\_"。
- 主键约束加上 "pk\+" 前缀。
- 唯一约束加上 "uk\_" 前缀。
- 外键约束加上 "fk\_" 前缀。
- 存储过程加上 "sp\_" 前缀。
- 视图加上 "v\_" 前缀。
- 用户自定义函数加上 "udf\_" 前缀。
- 触发器加上 "tr\_" 前缀。
- 序列加上 "seq\_" 前缀。

下面是一些较为不错的命名示例：
- user_db
- users
- idx_user_id
- uk_user_id
- fk_city_id
- v_user_detail_info
- seq_user_id

## 2. Schema开发设计规范
1. 所有表默认都采用InnoDB存储引擎。

2. 每个表都应有显式声明的主键列，尽可能采用自增INT/BIGINT类型作为主键列，且该主键列没有业务用途。这么做的目的是为了避免在业务中因插入、删除、更新数据时，不会因为主键列值变化而导致InnoDB数据页产生过多碎片。

3. 数据表结构设计尽可能满足第三范式要求，但也不能过于教条机械执行，而应以达到实际业务最佳性能为指导原则，适当冗余存储不分数据，减少表间关联查询从而提升业务性能。一般而言，适当冗余的数据不包括以下几种情况：
- VARCHAR/CHAR等长字符串类型；
- TEXT/BLOB等大对象类型；
- 频繁更新的列。



## 3. 其他规范

**问题反馈**
---
- [问题反馈 gitee](https://gitee.com/GreatSQL/GreatSQL-Doc/issues)


**联系我们**
---

扫码关注微信公众号

![输入图片说明](https://images.gitee.com/uploads/images/2021/0802/141935_2ea2c196_8779455.jpeg "greatsql社区-wx-qrcode-0.5m.jpg")
