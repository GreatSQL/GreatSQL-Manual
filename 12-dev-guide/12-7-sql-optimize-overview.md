# SQL 优化概述
---

本节介绍如何在 GreatSQL 中优化 SQL 语句查询性能。主要内容包括：
- 常见 SQL 性能调优方法。
- SQL 性能优化最佳实践参考，包括 Schema 设计、更高效的 SQL 写法等。
- 如何通过慢查询 SQL 定位性能瓶颈。
- 如何利用 InnoDB 并行查询优化 SQL 性能。
- 如何利用 Rapid 引擎优化 SQL 性能。

想要让 SQL 请求执行的更快，应该遵循以下几条核心原则，或者说从以下几个方向着手去优化：
- 数据表中存储的**数据量越少越好**，最好是只存储应用程序经常读取的热数据即可，把更多的冷数据归档存储在另外的表里，这样可以有效降低每次 SQL 读取扫描的总数据量。更多内容详见：[Schema 设计优化](./12-7-1-sql-optimize-schema-design.md)。
- 数据表中每条记录的**宽度越窄越好**（换个说法，就是每条记录里存储的内容越短越好），这么做的好处是内存缓冲区中可以存储更多热数据，可以减少物理 I/O 读取发生的次数。更多内容详见：[Schema 设计优化](./12-7-1-sql-optimize-schema-design.md)。
- 每次需要**读取或扫描的数据量越少越好**。通常来说，要么利用 WHERE 条件过滤更多无关数据，要么利用 LIMIT 限定返回结果集数量，要么通过创建合适的索引提高数据扫描效率（减少更多无谓扫描），也尽量不要执行 `SELECT *`读取所有列，通过各种方法来提高 SQL 执行效率。更多内容详见：[SQL 开发优化](./12-7-2-sql-optimize-sql-dev.md)。
- 选择合适的存储引擎。对于 OLTP 类应用场景，应选择 InnoDB 存储引擎；对于 OLAP 类应用场景，则推荐选择 Rapid 引擎；如果是混合的 HTAP 应用场景，推荐选择开启 dplan 特性。更多内容详见：[存储引擎选择](./12-7-3-sql-optimize-engines.md)。
- 定期检查并优化慢查询请求，随着生产环境中数据量的变化，部分业务 SQL 查询性能可能会产生较大变化，原先很快就能执行完的请求要耗时更久，成为慢查询。因此，需要定期检查慢查询日志，分析及优化消耗数据库系统资源较多的慢查询请求，减少对线上生产环境的影响。更多内容详见：[慢查询 SQL 分析优化](12-7-4-sql-optimize-slowsql.md)。

SQL 优化是个持续动态变化的过程，没有一成不变的套路，要求开发者、DBA 能根据实际情况灵活应变，做出合适的应对措施。



**扫码关注微信公众号**

![greatsql-wx](../greatsql-wx.jpg)
